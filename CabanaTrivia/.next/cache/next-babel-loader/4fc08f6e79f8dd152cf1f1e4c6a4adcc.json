{"ast":null,"code":"var _jsxFileName = \"/Users/paulinaanzaldo/Daimler/CabanaTrivia/pages/components/Questions.js\";\nvar __jsx = React.createElement;\nimport { styles } from \"../stylesheet\";\nimport React, { Component } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport AnswersComponent from \"./Answers\";\nimport CategoriesComponent from \"./Categories\";\nimport GameOverComponent from \"./GameOver\";\nimport FeedbackComponent from \"./Feedback\";\nimport IndexPage from '../index';\nimport { CATEGORIES_MAP } from '../constants';\n\nconst Entities = require(\"html-entities\").AllHtmlEntities;\n\nconst entities = new Entities();\nconst MAX_NUM_QUESTIONS = 3;\nconst FEEDBACK_SHOW_TIME_SECS = 2; // component that displays the questions or the game over component\n\nclass QuestionsComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      startGame: true,\n      singlePlayer: true,\n      duration: 1,\n      questionIndex: 0,\n      currentScore: 0,\n      showFeedback: false,\n      lastQuestionCorrect: false,\n      lastQuestionAnswer: \"\"\n    }; //  this.nextQuestion = this.nextQuestion.bind(this);\n\n    this.getUrls = this.getUrls.bind(this);\n    this.fetchUrls = this.fetchUrls.bind(this);\n    this.parseQuestionAnswerFormat = this.parseQuestionAnswerFormat.bind(this);\n  } // calls function to fetch the questions before the component mounts\n\n\n  componentWillMount() {\n    this.onGetQuestions();\n  }\n  /*\n  function: getUrls\n  Iterates over the user's selected categories (stored in this.props.cat)\n  Creates a custom URL for each category\n  Returns an array with all the URLS to fetch\n  */\n\n\n  getUrls(categories) {\n    var urls = [];\n    var customURL = \"\";\n    const numQs = MAX_NUM_QUESTIONS; // change this or pass it into the function\n\n    for (var i = 0; i < categories.length; i++) {\n      customURL = \"https://opentdb.com/api.php?amount=\" + numQs + \"&category=\" + CATEGORIES_MAP[categories[i]] + \"&difficulty=\" + this.props.diff; //Add URL LINK to array\n\n      urls.push(customURL);\n    }\n\n    return urls;\n  }\n  /*\n  function: fetchUrls\n  Iterates over the array of API requests and fetch them\n  Returns an arrray with fetch requests\n  */\n  // fetchUrls(urlArray){\n  //   var urlFetchArray = []\n  //   var fetchRequest = \"\"\n  //   for(var i = 0; i < urlArray.length; i ++) {\n  //     singlefetchCall = await fetch(urlArray[i])\n  //     urlFetchArray.push(fetchRequest)\n  // }\n  // return urlFetchArray\n  // }\n  // fetch quesions from cocktail trivia\n\n\n  async onGetQuestions(category) {\n    var chosenCategories = this.props.cat;\n    const allUrls = this.getUrls(chosenCategories); //const response = this.fetchUrls(allUrls)\n\n    console.log(allUrls[0]);\n    console.log(\"THE NEXT ONE IS\");\n    console.log(allUrls[1]);\n    const finalCateg = category == null ? \"MUSIC\" : category; // pass in the category as you wish\n\n    const difficulty = this.props.diff;\n    const numQs = MAX_NUM_QUESTIONS; // change this or pass it into the function\n\n    var urlFetchArray = [];\n    var fetchRequest = \"\";\n\n    for (var i = 0; i < allUrls.length; i++) {\n      singlefetchCall = await fetch(allUrls[i]);\n      urlFetchArray.push(fetchRequest);\n    } // const response = await fetch(\n    //   \"https://opentdb.com/api.php?amount=\"+numQs+\"&category=\"+CATEGORIES_MAP[finalCateg]+\"&difficulty=\"+difficulty\n    // )\n    //TODO: Use a Promise so that we can process multiple urls rather than just one.\n    // const response = Promise.all(urlLinks.map(url =>fetch(url)))\n\n\n    let allData = await response.json(); // parse the question to the same format\n\n    allData = this.parseQuestionAnswerFormat(allData.results);\n    this.setState({\n      questionsArr: allData\n    });\n  } // shuffles the array of answers for randomness\n\n\n  shuffleArray(a) {\n    var j, x, i;\n\n    for (i = a.length - 1; i > 0; i--) {\n      j = Math.floor(Math.random() * (i + 1));\n      x = a[i];\n      a[i] = a[j];\n      a[j] = x;\n    }\n\n    return a;\n  }\n  /*This function parses the result from the API to the same format that was used in the previous API*/\n\n\n  parseQuestionAnswerFormat(arr) {\n    const finalArr = [];\n\n    for (const item of arr) {\n      const questionObj = {};\n      questionObj.text = item.question;\n      const answers = [{\n        text: item.correct_answer,\n        correct: true\n      }];\n\n      for (const answerObj of item.incorrect_answers) {\n        answers.push({\n          text: answerObj,\n          correct: false\n        });\n      }\n\n      this.shuffleArray(answers);\n      questionObj.answers = answers;\n      finalArr.push(questionObj);\n    }\n\n    return finalArr;\n  } //changes to the next question. isCorrect ia a bool for if the previous value was correct. correctAnswer is the correct answer\n\n\n  nextQuestion(isCorrect, correctAnswer) {\n    const score = isCorrect ? this.state.currentScore + 1 : this.state.currentScore;\n    const nextQIndex = this.state.questionIndex + 1;\n    this.setState({\n      lastQuestionCorrect: isCorrect\n    });\n    this.setState({\n      lastQuestionAnswer: correctAnswer\n    });\n    this.setState({\n      showFeedback: true\n    });\n    setTimeout(() => {\n      this.setState({\n        showFeedback: false\n      });\n    }, FEEDBACK_SHOW_TIME_SECS * 1000);\n    this.setState({\n      currentScore: score\n    });\n    this.setState({\n      questionIndex: nextQIndex\n    });\n  }\n\n  render() {\n    //const [allUrls] = this.getUrls()\n    console.log(\"THESE WERE THE CATEGORIES CHOSEN \" + this.props.cat);\n    console.log(\"THIS WAS THE DIFFICULTY CHOSEN \" + this.props.diff); //console.log(\"THESE ARE THE URLS \" + allUrls)\n\n    return __jsx(\"div\", {\n      style: styles.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, __jsx(Backdrop, {\n      open: this.state.showFeedback,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, __jsx(FeedbackComponent, {\n      wasCorrect: this.state.lastQuestionCorrect,\n      correctAnswer: this.state.lastQuestionAnswer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), __jsx(Grid, {\n      container: true,\n      direction: \"column\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, this.state.questionIndex < MAX_NUM_QUESTIONS && __jsx(React.Fragment, null, __jsx(\"p\", {\n      style: styles.questionText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, this.state.questionsArr && entities.decode(this.state.questionsArr[this.state.questionIndex].text), \" \"), __jsx(AnswersComponent, {\n      answers: this.state.questionsArr && this.state.questionsArr[this.state.questionIndex].answers,\n      callback: this.nextQuestion,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), this.state.questionIndex >= MAX_NUM_QUESTIONS && __jsx(React.Fragment, null, __jsx(GameOverComponent, {\n      score: this.state.currentScore,\n      callback: this.props.callback,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default QuestionsComponent;","map":{"version":3,"sources":["/Users/paulinaanzaldo/Daimler/CabanaTrivia/pages/components/Questions.js"],"names":["styles","React","Component","Grid","Backdrop","AnswersComponent","CategoriesComponent","GameOverComponent","FeedbackComponent","IndexPage","CATEGORIES_MAP","Entities","require","AllHtmlEntities","entities","MAX_NUM_QUESTIONS","FEEDBACK_SHOW_TIME_SECS","QuestionsComponent","constructor","props","state","startGame","singlePlayer","duration","questionIndex","currentScore","showFeedback","lastQuestionCorrect","lastQuestionAnswer","getUrls","bind","fetchUrls","parseQuestionAnswerFormat","componentWillMount","onGetQuestions","categories","urls","customURL","numQs","i","length","diff","push","category","chosenCategories","cat","allUrls","console","log","finalCateg","difficulty","urlFetchArray","fetchRequest","singlefetchCall","fetch","allData","response","json","results","setState","questionsArr","shuffleArray","a","j","x","Math","floor","random","arr","finalArr","item","questionObj","text","question","answers","correct_answer","correct","answerObj","incorrect_answers","nextQuestion","isCorrect","correctAnswer","score","nextQIndex","setTimeout","render","root","questionText","decode","callback"],"mappings":"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","sourcesContent":["import { styles } from \"../stylesheet\";\nimport React, { Component } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport AnswersComponent from \"./Answers\";\nimport CategoriesComponent from \"./Categories\";\nimport GameOverComponent from \"./GameOver\";\nimport FeedbackComponent from \"./Feedback\";\nimport IndexPage from '../index';\nimport {CATEGORIES_MAP} from '../constants'\n\nconst Entities = require(\"html-entities\").AllHtmlEntities;\n\nconst entities = new Entities();\n\nconst MAX_NUM_QUESTIONS = 3;\nconst FEEDBACK_SHOW_TIME_SECS = 2;\n\n// component that displays the questions or the game over component\nclass QuestionsComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      startGame: true,\n      singlePlayer: true,\n      duration: 1,\n      questionIndex: 0,\n      currentScore: 0,\n      showFeedback: false,\n      lastQuestionCorrect: false,\n      lastQuestionAnswer: \"\",\n    };\n\n  //  this.nextQuestion = this.nextQuestion.bind(this);\n    this.getUrls = this.getUrls.bind(this);\n    this.fetchUrls = this.fetchUrls.bind(this);\n    this.parseQuestionAnswerFormat = this.parseQuestionAnswerFormat.bind(this)\n  }\n\n\n  // calls function to fetch the questions before the component mounts\n  componentWillMount() {\n      this.onGetQuestions();\n  }\n\n\n  /*\n  function: getUrls\n  Iterates over the user's selected categories (stored in this.props.cat)\n  Creates a custom URL for each category\n  Returns an array with all the URLS to fetch\n  */\n\n  getUrls(categories){\n    var urls = []\n    var customURL = \"\"\n    const numQs = MAX_NUM_QUESTIONS  // change this or pass it into the function\n    for(var i = 0; i < categories.length; i ++) {\n      customURL = \"https://opentdb.com/api.php?amount=\"+numQs+\"&category=\"+CATEGORIES_MAP[categories[i]]+\"&difficulty=\"+this.props.diff\n      //Add URL LINK to array\n      urls.push(customURL)\n  }\n  return urls\n}\n\n\n/*\nfunction: fetchUrls\nIterates over the array of API requests and fetch them\nReturns an arrray with fetch requests\n*/\n// fetchUrls(urlArray){\n//   var urlFetchArray = []\n//   var fetchRequest = \"\"\n//   for(var i = 0; i < urlArray.length; i ++) {\n//     singlefetchCall = await fetch(urlArray[i])\n//     urlFetchArray.push(fetchRequest)\n// }\n// return urlFetchArray\n// }\n\n\n  // fetch quesions from cocktail trivia\n  async onGetQuestions(category) {\n    var chosenCategories = this.props.cat\n    const allUrls = this.getUrls(chosenCategories)\n\n    //const response = this.fetchUrls(allUrls)\n\n    console.log(allUrls[0])\n    console.log(\"THE NEXT ONE IS\")\n    console.log(allUrls[1])\n\n    const finalCateg = category == null ? \"MUSIC\" : category;  // pass in the category as you wish\n    const difficulty = this.props.diff\n    const numQs = MAX_NUM_QUESTIONS  // change this or pass it into the function\n\n    var urlFetchArray = []\n    var fetchRequest = \"\"\n    for(var i = 0; i < allUrls.length; i ++) {\n      singlefetchCall = await fetch(allUrls[i])\n      urlFetchArray.push(fetchRequest)\n  }\n\n    // const response = await fetch(\n    //   \"https://opentdb.com/api.php?amount=\"+numQs+\"&category=\"+CATEGORIES_MAP[finalCateg]+\"&difficulty=\"+difficulty\n    // )\n\n    //TODO: Use a Promise so that we can process multiple urls rather than just one.\n    // const response = Promise.all(urlLinks.map(url =>fetch(url)))\n\n    let allData = await response.json();\n    // parse the question to the same format\n    allData = this.parseQuestionAnswerFormat(allData.results)\n    this.setState({ questionsArr: allData });\n  }\n\n// shuffles the array of answers for randomness\n  shuffleArray(a) {\n    var j, x, i;\n    for (i = a.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = a[i];\n        a[i] = a[j];\n        a[j] = x;\n    }\n    return a;\n}\n\n/*This function parses the result from the API to the same format that was used in the previous API*/\n  parseQuestionAnswerFormat(arr){\n    const finalArr = []\n    for (const item of arr){\n      const questionObj = {}\n      questionObj.text = item.question\n      const answers = [{ text: item.correct_answer, correct: true}]\n      for (const answerObj of item.incorrect_answers){\n        answers.push({text: answerObj, correct: false})\n      }\n      this.shuffleArray(answers)\n      questionObj.answers = answers\n      finalArr.push(questionObj)\n    }\n    return finalArr\n  }\n\n  //changes to the next question. isCorrect ia a bool for if the previous value was correct. correctAnswer is the correct answer\n  nextQuestion(isCorrect, correctAnswer) {\n    const score = isCorrect\n      ? this.state.currentScore + 1\n      : this.state.currentScore;\n    const nextQIndex = this.state.questionIndex + 1;\n\n    this.setState({ lastQuestionCorrect: isCorrect });\n    this.setState({ lastQuestionAnswer: correctAnswer });\n    this.setState({ showFeedback: true });\n    setTimeout(() => {\n      this.setState({ showFeedback: false });\n    }, FEEDBACK_SHOW_TIME_SECS * 1000);\n\n    this.setState({ currentScore: score });\n    this.setState({ questionIndex: nextQIndex });\n  }\n\n  render() {\n    //const [allUrls] = this.getUrls()\n\n    console.log(\"THESE WERE THE CATEGORIES CHOSEN \" + this.props.cat)\n\n    console.log(\"THIS WAS THE DIFFICULTY CHOSEN \" + this.props.diff)\n\n    //console.log(\"THESE ARE THE URLS \" + allUrls)\n\n\n\n    return (\n      <div style={styles.root}>\n        <Backdrop open={this.state.showFeedback}>\n          <FeedbackComponent\n            wasCorrect={this.state.lastQuestionCorrect}\n            correctAnswer={this.state.lastQuestionAnswer}\n          />\n        </Backdrop>\n\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n          {this.state.questionIndex < MAX_NUM_QUESTIONS && (\n            <>\n              <p style={styles.questionText}>\n                {this.state.questionsArr &&\n                  entities.decode(\n                    this.state.questionsArr[this.state.questionIndex].text\n                  )}{\" \"}\n              </p>\n              <AnswersComponent\n                answers={\n                  this.state.questionsArr &&\n                  this.state.questionsArr[this.state.questionIndex].answers\n                }\n                callback={this.nextQuestion}\n              ></AnswersComponent>\n            </>\n          )}\n\n          {this.state.questionIndex >= MAX_NUM_QUESTIONS && (\n            <>\n              <GameOverComponent\n                score={this.state.currentScore}\n                callback={this.props.callback}\n              ></GameOverComponent>\n            </>\n          )}\n        </Grid>\n      </div>\n    );\n  }\n}\nexport default QuestionsComponent;\n"]},"metadata":{},"sourceType":"module"}